@{
    ViewData["Title"] = "Home";
    Layout = "_Layout";
}

@model CineMa.Models.ViewModel.HomeViewModel

<!-- HERO CENTRALIZADO -->
<section class="hero-cinema mx-auto">
    <div class="hero-overlay"></div>

    <div class="hero-content text-center">
        <h1 class="hero-title">Os Melhores Filmes Estão Aqui</h1>
        <p class="hero-subtitle">Aproveite estreias, salas premium e combos especiais!</p>

        <div class="mt-3 d-flex justify-content-center gap-2">
            <a href="#" class="btn btn-primary btn-lg px-4">Comprar Ingressos</a>
            <a href="#" class="btn btn-outline-light btn-lg px-4">Ver Estreias</a>
        </div>
    </div>
</section>

<div class="container">

    <!-- FILTROS -->
    <section class="mb-5">
        <div class="filters-shell p-3 p-md-4 mb-4">

            <div class="row g-3 align-items-center">

                <!-- Busca -->
                <div class="col-12 col-lg-4">
                    <div class="input-group filter-search">
                        <span class="input-group-text"><i class="bi bi-search"></i></span>
                        <input type="text" class="form-control" placeholder="Buscar por filme, ator ou diretor...">
                    </div>
                </div>

                <!-- Dropdowns -->
                <div class="col-12 col-md-8 col-lg-5">
                    <div class="d-flex flex-wrap gap-2">
                        <button class="btn btn-filter dropdown-toggle" data-bs-toggle="dropdown">Gênero</button>
                        <ul class="dropdown-menu dropdown-menu-dark">
                            <li><a class="dropdown-item">Ação</a></li>
                            <li><a class="dropdown-item">Comédia</a></li>
                            <li><a class="dropdown-item">Terror</a></li>
                            <li><a class="dropdown-item">Romance</a></li>
                        </ul>

                        <button class="btn btn-filter dropdown-toggle" data-bs-toggle="dropdown">Classificação</button>
                        <ul class="dropdown-menu dropdown-menu-dark">
                            <li><a class="dropdown-item">Livre</a></li>
                            <li><a class="dropdown-item">12+</a></li>
                            <li><a class="dropdown-item">16+</a></li>
                            <li><a class="dropdown-item">18+</a></li>
                        </ul>

                        <button class="btn btn-filter dropdown-toggle" data-bs-toggle="dropdown">Idioma</button>
                        <ul class="dropdown-menu dropdown-menu-dark">
                            <li><a class="dropdown-item">Dublado</a></li>
                            <li><a class="dropdown-item">Legendado</a></li>
                        </ul>

                        <button class="btn btn-filter dropdown-toggle" data-bs-toggle="dropdown">Ordenar por</button>
                        <ul class="dropdown-menu dropdown-menu-dark">
                            <li><a class="dropdown-item">Mais assistidos</a></li>
                            <li><a class="dropdown-item">Lançamentos</a></li>
                            <li><a class="dropdown-item">Avaliação</a></li>
                        </ul>
                    </div>
                </div>

                <!-- Botões -->
                <div class="col-12 col-lg-3 text-lg-end">
                    <button class="btn btn-outline-light btn-sm me-2">Limpar filtros</button>
                    <button class="btn btn-primary btn-sm">Aplicar</button>
                </div>
            </div>

            <!-- Chips -->
            <div class="mt-3 d-flex flex-wrap gap-2">
                <button class="chip-filter chip-active">Todos</button>
                <button class="chip-filter">Ação</button>
                <button class="chip-filter">Comédia</button>
                <button class="chip-filter">Romance</button>
                <button class="chip-filter">Suspense</button>
                <button class="chip-filter">Animação</button>
                <button class="chip-filter">Família</button>
                <button class="chip-filter">Heróis</button>
            </div>

        </div>
    </section>

    <!-- EM CARTAZ -->
    <section class="section-block">
        <h3 class="mb-4">Em Cartaz</h3>

        <div class="row g-4">
            @if (Model.MoviesInCartaz != null)
            {
                foreach (var m in Model.MoviesInCartaz)
                {
                    <div class="col-6 col-md-4 col-lg-3">
                        <div class="movie-card">
                            <img src="/images/@m.ImageUrl" alt="@m.Title" />
                            <h6>@m.Title</h6>
                            <a class="btn btn-primary w-100 mt-2" href="/Cinema/Sessoes/@m.Id">Ver Sessões</a>
                        </div>
                    </div>
                }
            }
            else
            {
                <div class="p-3 text-muted">Nenhum filme disponível no momento.</div>
            }   
        </div>
    </section>

    <!-- PRÓXIMAS SESSÕES -->
    <section class="mb-5 section-block">
        <h2 class="section-title mb-4">Próximas Sessões</h2>

        <div class="sessions-grid">
            @if (Model.ActiveSessions != null)
            {
                @foreach (var s in Model.ActiveSessions)
                {
                    <div class="session-card">

                        <div class="session-left">
                            <img class="session-poster" src="/images/@s.Movie.ImageUrl" alt="@s.Movie.Title">
                        </div>

                        <div class="session-center">
                            <h4 class="session-title">@s.Movie.Title</h4>

                            <div class="session-meta">
                                <span class="session-info">Sala @s.CinemaRoom.RoomNumber • @s.LanguageAudio.Name</span>

                                <span class="age-badge age-@s.Movie.MinimumAge">
                                    @s.Movie.MinimumAge
                                </span>
                            </div>
                        </div>

                        <div class="session-right">
                            <span class="session-hour-pill">@s.SessionHour.ToString("HH:mm")</span>
                            <a href="#" class="btn btn-primary btn-buy">Comprar</a>
                        </div>

                    </div>

                }
            }
        </div>
    </section>


    <!-- ESTREIAS -->
    <section class="mb-5">
        <h2 class="section-title">Em breve</h2>

        <div class="scroll-row">
            @if (Model.UpcomingReleases != null && Model.UpcomingReleases.Count > 0)
            {
                foreach (var movie in Model.UpcomingReleases)
                {
                    <div class="movie-poster">
                        <img src="~/images/@movie.ImageUrl" />
                        <div class="movie-info">
                            <h5>@movie.Title</h5>
                            <button class="btn btn-primary btn-sm w-100 mt-2">Comprar</button>
                        </div>
                    </div>
                }
            }
            else
            {
                <div class="p-3 text-muted">Nenhum filme disponível no momento.</div>
            }
        </div>
    </section>

    <!-- COMBOS -->
    <section class="mb-5">
        <h2 class="section-title">Combos</h2>

        <div class="row g-4">

            @if (Model.Combos != null)
            {
                foreach (var product in Model.Combos)
                {
                    <div class="col-md-4 col-sm-6">
                        <div class="combo-card">
                            <img src="/images/combo1.png">
                            <h5 class="mt-2">@product.Name</h5>
                            <p class="text-muted">@product.Price</p>
                            <button class="btn btn-outline-light btn-sm mt-2">Adicionar</button>
                        </div>
                    </div>
                }
            }
        </div>
    </section>

</div>
